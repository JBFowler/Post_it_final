<%= render 'shared/content_title', title: 'All Posts' %>

<% @posts.each do |post| %>
  <%= render 'post', post: post %>
<% end %>

<% @pages.times do |n| %>
  <% if (params[:offset].nil? && n == 0) || params[:offset].to_s == (n * Post::PER_PAGE).to_s %>
    <%= " | Page #{n+1}" %>
  <% else %>
    <%= link_to "| Page #{n+1}", posts_path(offset: n * Post::PER_PAGE) %>
  <% end %>
<% end %>

<div class="pagination">
  <ul>
    <% @pages.times do |n| %>
      <% if (params[:offset].nil? && n == 0) || params[:offset].to_s == (n * Post::PER_PAGE).to_s %>
        <li class="active"><a href="#"><%= "#{n+1}"%></a></li>
      <% else %>
        <li><%= link_to "#{n+1}", posts_path(offset: n * Post::PER_PAGE) %></li>
      <% end %>
    <% end %>
  </ul>
</div>